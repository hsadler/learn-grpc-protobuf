# learn-grpc-protobuf
Learning gRPC and protocol buffers based on [this](https://www.semantics3.com/blog/a-simplified-guide-to-grpc-in-python-6c4e25f0c506/) tutorial blog.

## Requirements
- python3
- virtualenv


# Usage

### Virtualenv

create virtual environment directory for python
```sh
virtualenv venv
```

### Spin-up Python gRPC Server

start virtualenv
```sh
source venv/bin/activate
```
change to app directory
```sh
cd app/
```
install python packages
```sh
pip install -r requirements.txt
```
generate gRPC class files from .proto files
```sh
python \
-m grpc_tools.protoc \
--proto_path=autogenerated=proto \
--python_out=. \
--grpc_python_out=. \
proto/*.proto
```
spin-up gRPC server
```sh
python server.py
```

### OR.. Spin-up Python gRPC Server Container via Docker
```sh
docker build -t=learn-grpc-protobuf
docker run -p 50051:50051 learn-grpc-protobuf
```

### Run Client Script

in another terminal, start virtualenv
```sh
source venv/bin/activate
```
change to app directory
```sh
cd app/
```
make a request to the gRPC server via the client script
```sh
python client.py
```
you should see this output:
```sh
result of square_root(16):  4.0
result of add(4,5):  9.0
result of say_hello(My name is Harry): Hello, your request message was: My name is Harry
```

### Cleanup

spin-down python gRPC server in 1st terminal
```sh
ctrl+c
```
deactivate virtualenv in both terminals
```sh
deactivate
```




